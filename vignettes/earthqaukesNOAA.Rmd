---
title: "earthquakesNOAA"
author: "Williams Ojo"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r eq_read_example, message = FALSE}
library(earthquakesNOAA)
data <- readr::read_delim("NOAAearthquakes.txt", delim = "\t")
eq_clean_data(data)


```



## Leaflet Functions

The following 2 functions were built to display the earthquake data by their geographical location through a leaflet map.

### eq_map

`eq_map` is a function that displays the data points in the input `data` argument, based on its LATITUDE and LONGITUDE columns. The data points will be displayed as circles in the map. The second argument, `annot_col` decides which column in the dataset will be used as the pop-up annotation of the leaflet map.


**Note: Leaflet Maps may not display in some browsers. To visualize the results of the leaflet map functions (in vignettes), download the package and knit the vignette (or preview the html file) in RStudio.**
```{r eq_map_example, fig.width = 7, fig.height = 4}
data %>% 
  eq_clean_data() %>% 
  dplyr::filter(COUNTRY == "MEXICO" & lubridate::year(DATE) >= 2000) %>% 
  dplyr::mutate(popup_text = eq_create_label(.)) %>% 
  eq_map(annot_col = "popup_text")
```
